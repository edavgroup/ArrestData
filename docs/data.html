<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data | Exploration of Arrest Records in NYC</title>
  <meta name="description" content="Chapter 3 Data | Exploration of Arrest Records in NYC" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data | Exploration of Arrest Records in NYC" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data | Exploration of Arrest Records in NYC" />
  
  
  

<meta name="author" content="Lingjun Zhang, Yijia He, Junyuan Huang" />


<meta name="date" content="2022-12-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="proposal.html"/>
<link rel="next" href="results.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Arrest Data Research</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>2</b> Proposal</a>
<ul>
<li class="chapter" data-level="2.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>2.1</b> Research topic</a></li>
<li class="chapter" data-level="2.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>2.2</b> Data availability</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#sources"><i class="fa fa-check"></i><b>3.1</b> Sources</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#cleaning-transformation"><i class="fa fa-check"></i><b>3.2</b> Cleaning / transformation</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#missing-value-analysis"><i class="fa fa-check"></i><b>3.3</b> Missing value analysis</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data.html"><a href="data.html#why-analyse-missing-value"><i class="fa fa-check"></i><b>3.3.1</b> Why analyse missing value?</a></li>
<li class="chapter" data-level="3.3.2" data-path="data.html"><a href="data.html#missing-pattern"><i class="fa fa-check"></i><b>3.3.2</b> Missing pattern</a></li>
<li class="chapter" data-level="3.3.3" data-path="data.html"><a href="data.html#missing-borough-analysis"><i class="fa fa-check"></i><b>3.3.3</b> Missing borough analysis:</a></li>
<li class="chapter" data-level="3.3.4" data-path="data.html"><a href="data.html#way-to-deal-with-the-missing-value"><i class="fa fa-check"></i><b>3.3.4</b> Way to deal with the missing value</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Results</a>
<ul>
<li class="chapter" data-level="4.1" data-path="results.html"><a href="results.html#criminals-portrait"><i class="fa fa-check"></i><b>4.1</b> Criminals’ portrait</a></li>
<li class="chapter" data-level="4.2" data-path="results.html"><a href="results.html#crime-types"><i class="fa fa-check"></i><b>4.2</b> Crime Types</a></li>
<li class="chapter" data-level="4.3" data-path="results.html"><a href="results.html#crimes-over-different-boroughs"><i class="fa fa-check"></i><b>4.3</b> Crimes Over different Boroughs</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="results.html"><a href="results.html#arrest-data-look-on-map"><i class="fa fa-check"></i><b>4.3.1</b> Arrest data look on map</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="results.html"><a href="results.html#crimes-over-time"><i class="fa fa-check"></i><b>4.4</b> Crimes Over Time</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>5</b> Interactive component</a></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploration of Arrest Records in NYC</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data<a href="data.html#data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="sources" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Sources<a href="data.html#sources" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After deciding the topic of the project, all of our team members searched data together to find the most suitable one. We have found that, to identify the crime types, patterns and so on, we need to get some historical crime data. Also, the data released by government or other official department would be more reliable. Here we extract the arrest records data from New York OpenData (<a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc" class="uri">https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc</a>), which is a free public data source published by New York City agencies and other organizations. The data we will use is collected by the New York Police Department(NYPD), including information about the type of crime, the location, the demographics of perpetrators, and so on. The Office of Management Analysis and Planning extracts and reviews the data every quarter. The data is last updated on Oct 19, 2022.</p>
<p>The dataset is categorized as public safety and contains 141,000 observations with 19 columns in a structured form. Each row represents an arrest effected in New York City by NYPD. The column shows the basic information about the arrest, including the time, location, and level of offense. At the same time, the dataset also contains descriptions of perpetrators, such as gender, age, race, etc. Based on these data, we can well accomplish our research goals.</p>
<p>To fully explored the arrest pattern, a single dataset is not reliable. Therefore, we collected historic data for arrests records from the same platform, New York OpenData, (<a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Arrests-Data-Historic-/8h9b-rp9u" class="uri">https://data.cityofnewyork.us/Public-Safety/NYPD-Arrests-Data-Historic-/8h9b-rp9u</a>). This dataset has the same format as year-to-date data, making it easy to compare with each other. However, we found that this historic dataset was only updated on June 9, 2022 lastly, which has been covered by our primal dataset. Therefore, instead of using both datasets, we use only the primal one in our projects.</p>
<p>We can export the dataset in CSV format for offline use from New York OpenData. Then we can import and manipulate the CSV formatted data in R from the local path.</p>
</div>
<div id="cleaning-transformation" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Cleaning / transformation<a href="data.html#cleaning-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, we import the Year-to-Date, which is from January 1, 2022, to September 30, 2022, NYPD Arrest Data from NYC OpenData, where each row is an arrest effected in NYC by the NYPD with columns includeing information about the type of crime, the location and time of enforcement, and suspect demographics. Through the glimpse of the dataset, we found that this dataset is well-stored and well-structured.</p>
<pre><code>## Rows: 140,564
## Columns: 19
## $ arrest_key        &lt;int&gt; 238492853, 238496466, 238498340, 238513835, 23851387…
## $ arrest_date       &lt;dttm&gt; 2022-01-01, 2022-01-01, 2022-01-01, 2022-01-01, 202…
## $ pd_cd             &lt;int&gt; 258, 244, 792, 109, 112, 339, 114, 101, 105, 665, 77…
## $ pd_desc           &lt;chr&gt; &quot;CRIMINAL MISCHIEF 4TH, GRAFFIT&quot;, &quot;BURGLARY,UNCLASSI…
## $ ky_cd             &lt;int&gt; 351, 107, 118, 106, 126, 341, 344, 344, 106, 126, 12…
## $ ofns_desc         &lt;chr&gt; &quot;CRIMINAL MISCHIEF &amp; RELATED OF&quot;, &quot;BURGLARY&quot;, &quot;DANGE…
## $ law_code          &lt;chr&gt; &quot;PL 1456002&quot;, &quot;PL 1402000&quot;, &quot;PL 265031B&quot;, &quot;PL 120050…
## $ law_cat_cd        &lt;chr&gt; &quot;M&quot;, &quot;F&quot;, &quot;F&quot;, &quot;F&quot;, &quot;F&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;F&quot;, &quot;F&quot;, &quot;F…
## $ arrest_boro       &lt;chr&gt; &quot;K&quot;, &quot;M&quot;, &quot;Q&quot;, &quot;B&quot;, &quot;K&quot;, &quot;K&quot;, &quot;Q&quot;, &quot;Q&quot;, &quot;K&quot;, &quot;M&quot;, &quot;M…
## $ arrest_precinct   &lt;int&gt; 72, 23, 114, 47, 71, 60, 114, 103, 73, 26, 23, 25, 1…
## $ jurisdiction_code &lt;int&gt; 1, 0, 0, 2, 97, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 1, 0, …
## $ age_group         &lt;chr&gt; &quot;18-24&quot;, &quot;25-44&quot;, &quot;18-24&quot;, &quot;25-44&quot;, &quot;25-44&quot;, &quot;25-44&quot;…
## $ perp_sex          &lt;chr&gt; &quot;M&quot;, &quot;F&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;F&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M…
## $ perp_race         &lt;chr&gt; &quot;WHITE&quot;, &quot;WHITE&quot;, &quot;BLACK&quot;, &quot;BLACK&quot;, &quot;BLACK HISPANIC&quot;…
## $ x_coord_cd        &lt;int&gt; 984074, 997744, 1010642, 1026480, 1000099, 985372, 1…
## $ y_coord_cd        &lt;int&gt; 178984, 228061, 218253, 262584, 178227, 147958, 2143…
## $ latitude          &lt;dbl&gt; 40.65795, 40.79264, 40.76569, 40.88731, 40.65586, 40…
## $ longitude         &lt;dbl&gt; -74.00063, -73.95127, -73.90472, -73.84727, -73.9428…
## $ geocoded_column   &lt;chr&gt; &quot;POINT (-74.000634 40.657949)&quot;, &quot;POINT (-73.951265 4…</code></pre>
<pre><code>##   arrest_key arrest_date pd_cd                        pd_desc ky_cd
## 1  238492853  2022-01-01   258 CRIMINAL MISCHIEF 4TH, GRAFFIT   351
## 2  238496466  2022-01-01   244  BURGLARY,UNCLASSIFIED,UNKNOWN   107
## 3  238498340  2022-01-01   792     CRIMINAL POSSESSION WEAPON   118
## 4  238513835  2022-01-01   109       ASSAULT 2,1,UNCLASSIFIED   106
## 5  238513876  2022-01-01   112  MENACING 1ST DEGREE (VICT NOT   126
## 6  238513883  2022-01-01   339 LARCENY,PETIT FROM OPEN AREAS,   341
##                        ofns_desc   law_code law_cat_cd arrest_boro
## 1 CRIMINAL MISCHIEF &amp; RELATED OF PL 1456002          M           K
## 2                       BURGLARY PL 1402000          F           M
## 3              DANGEROUS WEAPONS PL 265031B          F           Q
## 4                 FELONY ASSAULT PL 1200501          F           B
## 5        MISCELLANEOUS PENAL LAW PL 1201800          F           K
## 6                  PETIT LARCENY PL 1552500          M           K
##   arrest_precinct jurisdiction_code age_group perp_sex      perp_race
## 1              72                 1     18-24        M          WHITE
## 2              23                 0     25-44        F          WHITE
## 3             114                 0     18-24        M          BLACK
## 4              47                 2     25-44        M          BLACK
## 5              71                97     25-44        M BLACK HISPANIC
## 6              60                 0     25-44        M          BLACK
##   x_coord_cd y_coord_cd latitude longitude
## 1     984074     178984 40.65795 -74.00063
## 2     997744     228061 40.79264 -73.95127
## 3    1010642     218253 40.76569 -73.90472
## 4    1026480     262584 40.88731 -73.84727
## 5    1000099     178227 40.65586 -73.94288
## 6     985372     147958 40.57279 -73.99596
##                              geocoded_column
## 1               POINT (-74.000634 40.657949)
## 2               POINT (-73.951265 40.792642)
## 3               POINT (-73.904725 40.765692)
## 4 POINT (-73.8472717577564 40.8873136344706)
## 5               POINT (-73.942878 40.655857)
## 6           POINT (-73.99596126 40.57278637)</code></pre>
<p>To transform the dataset into a tidy form for exploratory analysis, we drop the column called ‘geocoded_column’ since this column is a combination of the longitude coordinate as the x coordinate and the latitude coordinate as the y coordinate.</p>
<pre><code>## age_group
##   &lt;18 18-24 25-44 45-64   65+ 
##  4895 24560 81067 27959  2083</code></pre>
<p>In addition, we notice that the age groups are not classified evenly. Namely, the age groups are ‘&lt;18’, ‘18-24’, ‘25-44’, ‘45-64’, and ‘65+’, where the range of group ‘18-24’ is only 6, while others’ ranges are 19. However, the number of arrests in the age group of ‘18-24’ is extremely large compared to other age groups. It is worth paying attention to and explicitly exploring that remarkable number in plots. Thus, we keep the categories of age unchanged. Therefore, our dataset is in a tidy form to do exploratory data analysis in R now.</p>
</div>
<div id="missing-value-analysis" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Missing value analysis<a href="data.html#missing-value-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="why-analyse-missing-value" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Why analyse missing value?<a href="data.html#why-analyse-missing-value" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this section, we want to know the distribution of missing values in the original dataset. Through missing pattern analysis, we are able to get an overview of the missing logic and determine how to deal with these missing values. Whether to delete them directly or to approach them based on other non-missing values?</p>
</div>
<div id="missing-pattern" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Missing pattern<a href="data.html#missing-pattern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We start by analysis the missing pattern of the whole dataset.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>The left-bottom bar chart shows the total number of missing values in each column. The right chart shows the intersection pattern of the missing value. From the chart above, we can find that among 19 column in original data set, only 3 columns (pd_cd, pd_desc, ky_cd) has missing value.</p>
<pre><code>- pd_cd: Three digit arrest internal classification code.
- pd_desc: The description of internal classification code
- ky_cd: Three digit internal classification code (more general category than PD code)</code></pre>
<p>Notice the relation among pd_cd, pd_desc and ky_cd, it is easy to understand the consistency of missing value. Since the Keycode is a more general category, if the Key code of an arrest event is unknown, the PD code also remains unknown. Similarly, if the PD code is unkown, we cannot describe it.</p>
</div>
<div id="missing-borough-analysis" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Missing borough analysis:<a href="data.html#missing-borough-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="finalproj_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>When faceted on borough, we were surprised to find that majority of missing values are derived from Queens.It is probably due to data filing errors in this region, or the peculiarities of some crimes. We wonder if these arrest belongs to same accident or have some relation.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>We can propose a hypothesis from the charts above: Arrest data loss occurs throughout the year. There is no peak or obvious pattern, thus missing value is not due to specific incidents or periods, but it is highly likely because of the relatively poor system for arrest categorization in Queens.</p>
</div>
<div id="way-to-deal-with-the-missing-value" class="section level3 hasAnchor" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Way to deal with the missing value<a href="data.html#way-to-deal-with-the-missing-value" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="finalproj_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Since we cannot induce the classification of the arrest from known data, and all missing data only account for a small part of the total data (0.27%), we decided to delete these data directly, which will not affect our follow-up data analysis.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="proposal.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/edavgroup/ArrestData/edit/main/data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/edavgroup/ArrestData/blob/main/data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
